/* assets/style.css */
* { box-sizing: border-box; }
body { margin: 0; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", sans-serif; background: #f5f5f5; color: #111; }

/* Auth pages (登录/注册/管理员/封禁) */
body.auth { display: flex; align-items: center; justify-content: center; min-height: 100vh; padding: 16px; background: #f0f2f5; }
.auth-card { width: min(440px, 92vw); background: #fff; padding: 24px; border-radius: 12px; box-shadow: 0 6px 20px rgba(0,0,0,.08); }
.auth-card h1 { margin: 0 0 16px; font-size: 20px; line-height: 1.3; text-align: center; }
.auth-card label { display: block; margin: 12px 0 6px; font-size: 14px; color: #333; }
.auth-card input { width: 100%; padding: 12px 14px; border: 1px solid #ddd; border-radius: 10px; outline: none; font-size: 16px; min-height: 44px; }
.auth-card input:focus { border-color: #1AAD19; box-shadow: 0 0 0 3px rgba(26,173,25,.15); }
.auth-card button { width: 100%; margin-top: 14px; background: #1AAD19; color: #fff; border: 0; border-radius: 10px; padding: 12px 14px; font-size: 16px; min-height: 44px; cursor: pointer; }
.auth-card button:hover { background: #169e15; }
.auth-card .links { margin-top: 12px; text-align: center; }
.auth-card .links a { color: #1AAD19; text-decoration: none; font-size: 14px; }
.error { background: #fff2f0; color: #a8071a; border: 1px solid #ffa39e; padding: 10px 12px; border-radius: 10px; margin-bottom: 12px; font-size: 14px; }
.ok { background: #f6ffed; color: #237804; border: 1px solid #b7eb8f; padding: 10px 12px; border-radius: 10px; margin-bottom: 12px; font-size: 14px; }
.tip { background: #e6fffb; color: #006d75; border: 1px solid #87e8de; padding: 10px 12px; border-radius: 10px; margin-bottom: 12px; font-size: 14px; line-height: 1.5; }
.tip.small { font-size: 12px; color: #007c82; }

@media (max-width: 480px) {
  .auth-card { padding: 18px; border-radius: 10px; }
  .auth-card h1 { font-size: 18px; margin-bottom: 12px; }
  .auth-card label { font-size: 13px; margin: 10px 0 6px; }
  .auth-card input, .auth-card button { font-size: 16px; min-height: 44px; }
  .auth-card .links a { font-size: 13px; }
}

/* Chat layout */
body.chat { display: flex; flex-direction: column; height: 100vh; }
.chat-header { background: #1AAD19; color: #fff; padding: 12px 14px; display: flex; align-items: center; justify-content: space-between; position: relative; }
.chat-header .title { font-size: 18px; font-weight: 600; }
.chat-header .me { font-size: 14px; display: flex; align-items: center; gap: 8px; }
.chat-header .logout { color: #fff; text-decoration: none; margin-left: 4px; background: rgba(255,255,255,.2); padding: 4px 8px; border-radius: 12px; }
.chat-header .online-toggle { color: #fff; background: rgba(255,255,255,.2); padding: 4px 8px; border-radius: 12px; cursor: pointer; user-select: none; }

/* 在线抽屉浮层 */
.overlay { display: none; position: fixed; inset: 0; z-index: 999; pointer-events: none; }
.overlay.open { display: block; pointer-events: auto; }
.overlay-backdrop { position: absolute; inset: 0; background: rgba(0,0,0,.35); backdrop-filter: blur(1px); }
.online-drawer { position: absolute; top: 0; right: 0; height: 100%; width: 320px; max-width: 92vw; background: #fff; color: #111; box-shadow: -8px 0 24px rgba(0,0,0,.18); transform: translateX(100%); transition: transform .22s ease-out; display: flex; flex-direction: column; }
.overlay.open .online-drawer { transform: translateX(0%); }
.drawer-header { display: flex; align-items: center; justify-content: space-between; padding: 10px 12px; border-bottom: 1px solid #f0f0f0; }
.drawer-header h3 { margin: 0; font-size: 15px; font-weight: 600; color: #333; }
.close-btn { background: transparent; border: none; font-size: 20px; line-height: 1; cursor: pointer; color: #555; padding: 4px 6px; }
.drawer-body { padding: 8px 10px; overflow-y: auto; }
.drawer-body ul { list-style: none; margin: 0; padding: 0; }
.drawer-body li { display: flex; align-items: center; justify-content: space-between; padding: 8px 2px; border-bottom: 1px dashed #f0f0f0; }
.drawer-body li:last-child { border-bottom: 0; }
.drawer-body .name { font-size: 14px; color: #333; }
.drawer-body .right { display: flex; align-items: center; gap: 8px; }
.drawer-body .tag { font-size: 12px; color: #1AAD19; border: 1px solid #1AAD19; border-radius: 10px; padding: 0 6px; }

/* 管理员操作按钮 */
.btn-ban { font-size: 12px; color: #a8071a; border: 1px solid #a8071a; background: transparent; padding: 2px 8px; border-radius: 10px; cursor: pointer; }
.btn-ban:hover { background: #fff1f0; }

/* 消息区 */
.messages { flex: 1; overflow-y: auto; padding: 12px; background: #e5e5e5 url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="6" height="6"><rect width="6" height="6" fill="%23e5e5e5"/></svg>') repeat; }
.msg { display: flex; margin: 8px 0; }
.msg.their { justify-content: flex-start; }
.msg.mine { justify-content: flex-end; }
.msg .bubble { max-width: 72%; padding: 8px 10px; border-radius: 8px; position: relative; }
.msg.their .bubble { background: #fff; border: 1px solid #eee; }
.msg.mine .bubble { background: #95ec69; }
.msg .bubble .name { font-size: 12px; color: #888; margin-bottom: 4px; }
.msg .bubble .text { white-space: pre-wrap; word-break: break-word; font-size: 15px; color: #111; }
.msg .bubble .time { font-size: 11px; color: #666; margin-top: 4px; text-align: right; }
.msg.admin .bubble { box-shadow: inset 0 0 0 2px rgba(26,173,25,.3); }

/* 输入区 */
.composer { padding: 8px 10px; background: #f7f7f7; border-top: 1px solid #eaeaea; }
.composer .hint { font-size: 12px; color: #777; margin-bottom: 6px; }
.input-row { display: flex; gap: 8px; }
.input-row input { flex: 1; padding: 10px 12px; border: 1px solid #ddd; border-radius: 18px; outline: none; font-size: 16px; min-height: 40px; }
.input-row input:focus { border-color: #1AAD19; box-shadow: 0 0 0 2px rgba(26,173,25,.1); }
.input-row button { background: #1AAD19; color: #fff; border: 0; padding: 0 16px; border-radius: 18px; cursor: pointer; min-height: 40px; }
.input-row button:hover { background: #169e15; }

@media (max-width: 480px) {
  .msg .bubble { max-width: 86%; }
  .online-drawer { width: 92vw; }
}